{"ast":null,"code":"var _jsxFileName = \"/home/miltonejones/projects/state-cast/src/components/SettingsMenu.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { IconButton, Menu, MenuItem, Typography } from '@mui/material';\nimport { useMachine } from '@xstate/react';\nimport { Diagnostics } from '.';\nimport { menuMachine } from '../machines';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SettingsMenu = _ref => {\n  _s();\n  let {\n    onChange,\n    children,\n    value,\n    options,\n    debug\n  } = _ref;\n  const [state, send] = useMachine(menuMachine, {\n    services: {\n      menuClicked: async (context, event) => {\n        onChange(event.value);\n      }\n    }\n  });\n  const {\n    anchorEl\n  } = state.context;\n  const handleClose = value => () => send({\n    type: 'close',\n    value\n  });\n  const handleClick = event => send({\n    type: 'open',\n    anchorEl: event.currentTarget\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: handleClick,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      anchorEl: anchorEl,\n      open: !!anchorEl,\n      onClose: () => send('close'),\n      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          children: \"Show Machine state:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), options.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n        sx: {\n          fontWeight: option.id === value ? 600 : 400\n        },\n        onClick: handleClose(option.id),\n        children: option.label\n      }, option.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Diagnostics, {\n      open: debug,\n      id: menuMachine.id,\n      state: state,\n      send: send,\n      states: menuMachine.states\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SettingsMenu, \"JVZoiky6zIyU73HZ029PEtS3QOI=\", false, function () {\n  return [useMachine];\n});\n_c = SettingsMenu;\nexport default SettingsMenu;\nvar _c;\n$RefreshReg$(_c, \"SettingsMenu\");","map":{"version":3,"names":["React","IconButton","Menu","MenuItem","Typography","useMachine","Diagnostics","menuMachine","SettingsMenu","onChange","children","value","options","debug","state","send","services","menuClicked","context","event","anchorEl","handleClose","type","handleClick","currentTarget","map","option","fontWeight","id","label","states"],"sources":["/home/miltonejones/projects/state-cast/src/components/SettingsMenu.js"],"sourcesContent":["import React from 'react';\r\nimport { IconButton, Menu, MenuItem, Typography } from '@mui/material';\r\nimport { useMachine } from '@xstate/react';\r\nimport { Diagnostics } from '.';\r\nimport { menuMachine } from '../machines';\r\n\r\nconst SettingsMenu = ({ onChange, children, value, options, debug }) => {\r\n  const [state, send] = useMachine(menuMachine, {\r\n    services: {\r\n      menuClicked: async (context, event) => {\r\n        onChange(event.value);\r\n      },\r\n    },\r\n  });\r\n  const { anchorEl } = state.context;\r\n  const handleClose = (value) => () =>\r\n    send({\r\n      type: 'close',\r\n      value,\r\n    });\r\n  const handleClick = (event) =>\r\n    send({\r\n      type: 'open',\r\n      anchorEl: event.currentTarget,\r\n    });\r\n  return (\r\n    <>\r\n      <IconButton onClick={handleClick}>{children}</IconButton>\r\n\r\n      <Menu anchorEl={anchorEl} open={!!anchorEl} onClose={() => send('close')}>\r\n        <MenuItem>\r\n          <Typography variant=\"subtitle2\">Show Machine state:</Typography>{' '}\r\n        </MenuItem>\r\n        {options.map((option) => (\r\n          <MenuItem\r\n            key={option.id}\r\n            sx={{ fontWeight: option.id === value ? 600 : 400 }}\r\n            onClick={handleClose(option.id)}\r\n          >\r\n            {option.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n\r\n      <Diagnostics\r\n        open={debug}\r\n        id={menuMachine.id}\r\n        state={state}\r\n        send={send}\r\n        states={menuMachine.states}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SettingsMenu;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,eAAe;AACtE,SAASC,UAAU,QAAQ,eAAe;AAC1C,SAASC,WAAW,QAAQ,GAAG;AAC/B,SAASC,WAAW,QAAQ,aAAa;AAAC;AAAA;AAE1C,MAAMC,YAAY,GAAG,QAAmD;EAAA;EAAA,IAAlD;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,OAAO;IAAEC;EAAM,CAAC;EACjE,MAAM,CAACC,KAAK,EAAEC,IAAI,CAAC,GAAGV,UAAU,CAACE,WAAW,EAAE;IAC5CS,QAAQ,EAAE;MACRC,WAAW,EAAE,OAAOC,OAAO,EAAEC,KAAK,KAAK;QACrCV,QAAQ,CAACU,KAAK,CAACR,KAAK,CAAC;MACvB;IACF;EACF,CAAC,CAAC;EACF,MAAM;IAAES;EAAS,CAAC,GAAGN,KAAK,CAACI,OAAO;EAClC,MAAMG,WAAW,GAAIV,KAAK,IAAK,MAC7BI,IAAI,CAAC;IACHO,IAAI,EAAE,OAAO;IACbX;EACF,CAAC,CAAC;EACJ,MAAMY,WAAW,GAAIJ,KAAK,IACxBJ,IAAI,CAAC;IACHO,IAAI,EAAE,MAAM;IACZF,QAAQ,EAAED,KAAK,CAACK;EAClB,CAAC,CAAC;EACJ,oBACE;IAAA,wBACE,QAAC,UAAU;MAAC,OAAO,EAAED,WAAY;MAAA,UAAEb;IAAQ;MAAA;MAAA;MAAA;IAAA,QAAc,eAEzD,QAAC,IAAI;MAAC,QAAQ,EAAEU,QAAS;MAAC,IAAI,EAAE,CAAC,CAACA,QAAS;MAAC,OAAO,EAAE,MAAML,IAAI,CAAC,OAAO,CAAE;MAAA,wBACvE,QAAC,QAAQ;QAAA,wBACP,QAAC,UAAU;UAAC,OAAO,EAAC,WAAW;UAAA,UAAC;QAAmB;UAAA;UAAA;UAAA;QAAA,QAAa,EAAC,GAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAC3D,EACVH,OAAO,CAACa,GAAG,CAAEC,MAAM,iBAClB,QAAC,QAAQ;QAEP,EAAE,EAAE;UAAEC,UAAU,EAAED,MAAM,CAACE,EAAE,KAAKjB,KAAK,GAAG,GAAG,GAAG;QAAI,CAAE;QACpD,OAAO,EAAEU,WAAW,CAACK,MAAM,CAACE,EAAE,CAAE;QAAA,UAE/BF,MAAM,CAACG;MAAK,GAJRH,MAAM,CAACE,EAAE;QAAA;QAAA;QAAA;MAAA,QAMjB,CAAC;IAAA;MAAA;MAAA;MAAA;IAAA,QACG,eAEP,QAAC,WAAW;MACV,IAAI,EAAEf,KAAM;MACZ,EAAE,EAAEN,WAAW,CAACqB,EAAG;MACnB,KAAK,EAAEd,KAAM;MACb,IAAI,EAAEC,IAAK;MACX,MAAM,EAAER,WAAW,CAACuB;IAAO;MAAA;MAAA;MAAA;IAAA,QAC3B;EAAA,gBACD;AAEP,CAAC;AAAC,GA/CItB,YAAY;EAAA,QACMH,UAAU;AAAA;AAAA,KAD5BG,YAAY;AAiDlB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}