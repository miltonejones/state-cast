{"ast":null,"code":"var _jsxFileName = \"/home/miltonejones/projects/state-cast/src/components/PodDetail.js\";\nimport React from 'react';\nimport { styled, Box, Stack, Button, Typography, Pagination, ListItemSecondaryAction, Divider } from '@mui/material';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\n// import { BackButton } from '../../../..';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Layout = styled(Box)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    margin: theme.spacing(0),\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  };\n});\n_c = Layout;\nconst PodDetail = _ref2 => {\n  let {\n    detail,\n    podcast,\n    source,\n    subscriptions,\n    page = 1,\n    send\n  } = _ref2;\n  const recurse = function (elements) {\n    let out = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    let level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    !!elements && elements.map((element, e) => {\n      var _element$elements, _element$elements2;\n      const cdata = (_element$elements = element.elements) === null || _element$elements === void 0 ? void 0 : _element$elements.find(e => e.type === 'cdata');\n      const text = (_element$elements2 = element.elements) === null || _element$elements2 === void 0 ? void 0 : _element$elements2.find(e => e.type === 'text');\n      if (text) {\n        out.push({\n          [element.name]: text.text,\n          ...element.attributes,\n          level\n        });\n      } else if (cdata) {\n        out.push({\n          [element.name]: cdata.cdata,\n          ...element.attributes,\n          level\n        });\n      } else {\n        out.push({\n          ...element.attributes,\n          level\n        });\n        recurse(element.elements, out, ++level);\n      }\n      return out;\n    });\n    return out;\n  };\n  const getImageProps = items => {\n    const isPic = img => ['jpg', 'jpeg', 'png'].some(pic => !!img && img.indexOf(pic) > 0);\n    if (!items) return {};\n    const imageMap = items.find(f => isPic(f.url) || isPic(f.href));\n    if (imageMap) {\n      return {\n        image: isPic(imageMap.url) ? imageMap.url : imageMap.href,\n        ...imageMap\n      };\n    }\n    return {};\n  };\n  const elementList = recurse(detail.elements);\n  const listMap = Array.from(new Set(elementList.map(f => f.level))).reduce((out, res) => {\n    const items = elementList.filter(f => f.level === res);\n    const node = items.reduce((item, row) => {\n      Object.keys(row).map((m, i) => {\n        item[m] = Object.values(row)[i];\n        return item;\n      });\n      return item;\n    }, {});\n    return out.concat(node);\n  }, []);\n  const trackList = listMap === null || listMap === void 0 ? void 0 : listMap.filter(f => !!f['itunes:duration'] && !!f.url);\n  // const titleNode = listMap?.find((f) => !!f.generator);\n  const imageNode = (listMap === null || listMap === void 0 ? void 0 : listMap.find(f => !!f.href && (f.href.indexOf('jpg') > 0 || f.href.indexOf('jpeg') > 0))) || {};\n  const PAGE_SIZE = 5;\n  const pageCount = Math.ceil(trackList.length / PAGE_SIZE);\n  const startNum = (page - 1) * PAGE_SIZE;\n  const visible = trackList === null || trackList === void 0 ? void 0 : trackList.slice(startNum, startNum + PAGE_SIZE);\n  const subscribed = subscriptions === null || subscriptions === void 0 ? void 0 : subscriptions.some(f => f.feedUrl === (podcast === null || podcast === void 0 ? void 0 : podcast.feedUrl));\n  const imageProps = getImageProps(listMap);\n  const descNode = listMap.find(f => !!f.description);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    \"data-testid\": \"test-for-PodDetail\",\n    children: [!!imageProps && /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      spacing: 2,\n      sx: {\n        height: 200,\n        width: '100vw',\n        pt: 2,\n        pb: 2,\n        pl: 4,\n        mb: 2,\n        backgroundColor: 'aliceblue'\n      },\n      children: [!!(imageProps !== null && imageProps !== void 0 && imageProps.image) && /*#__PURE__*/_jsxDEV(\"img\", {\n        width: 200,\n        src: imageProps.image,\n        alt: imageProps.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          onClick: () => {\n            send({\n              type: 'SUBSCRIBE',\n              podcast\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fa-${subscribed ? 'solid' : 'regular'} fa-star`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), (imageProps === null || imageProps === void 0 ? void 0 : imageProps.title) || imageProps['itunes:name']]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          children: [trackList.length, \" episodes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            maxWidth: '60vw'\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            dangerouslySetInnerHTML: {\n              __html: descNode === null || descNode === void 0 ? void 0 : descNode.description\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '50vw'\n      },\n      children: [pageCount > 1 && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ml: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          count: pageCount,\n          page: page,\n          onChange: (e, index) => {\n            send({\n              type: 'PAGE',\n              page: index\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        sx: {\n          ml: 2,\n          maxWidth: '45vw'\n        },\n        children: visible.map(track => {\n          var _track$itunesSummary;\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            sx: {\n              borderBottom: 1,\n              borderColor: 'divider'\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n              children: ((track === null || track === void 0 ? void 0 : track.href) || (imageNode === null || imageNode === void 0 ? void 0 : imageNode.href)) && /*#__PURE__*/_jsxDEV(Avatar, {\n                variant: \"rounded\",\n                sx: {\n                  width: 60,\n                  height: 60,\n                  mr: 1\n                },\n                src: (track === null || track === void 0 ? void 0 : track.href) || (imageNode === null || imageNode === void 0 ? void 0 : imageNode.href)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => {\n                  send({\n                    type: 'PLAY',\n                    track: {\n                      ...track,\n                      owner: imageProps === null || imageProps === void 0 ? void 0 : imageProps.title,\n                      image: (track === null || track === void 0 ? void 0 : track.href) || (imageNode === null || imageNode === void 0 ? void 0 : imageNode.href)\n                    }\n                  });\n                },\n                dangerouslySetInnerHTML: {\n                  __html: track.title\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this),\n              secondary: /*#__PURE__*/_jsxDEV(Stack, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  dangerouslySetInnerHTML: {\n                    __html: (_track$itunesSummary = track['itunes:summary']) === null || _track$itunesSummary === void 0 ? void 0 : _track$itunesSummary.substr(0, 200)\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: \"row\",\n                  spacing: 1,\n                  sx: {\n                    mt: 1,\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => {\n                      send({\n                        type: 'PLAY',\n                        track: {\n                          ...track,\n                          image: (track === null || track === void 0 ? void 0 : track.href) || (imageNode === null || imageNode === void 0 ? void 0 : imageNode.href)\n                        }\n                      });\n                    },\n                    endIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa-solid fa-play fa-2xs\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 34\n                    }, this),\n                    size: \"small\",\n                    variant: \"outlined\",\n                    children: \"Play\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    children: track['itunes:duration']\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n              onClick: () => {\n                send({\n                  type: 'PLAY',\n                  track\n                });\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-chevron-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n_c2 = PodDetail;\nPodDetail.defaultProps = {};\nexport default PodDetail;\nvar _c, _c2;\n$RefreshReg$(_c, \"Layout\");\n$RefreshReg$(_c2, \"PodDetail\");","map":{"version":3,"names":["React","styled","Box","Stack","Button","Typography","Pagination","ListItemSecondaryAction","Divider","List","ListItem","ListItemText","ListItemAvatar","Avatar","Layout","theme","margin","spacing","display","justifyContent","alignItems","flexDirection","PodDetail","detail","podcast","source","subscriptions","page","send","recurse","elements","out","level","map","element","e","cdata","find","type","text","push","name","attributes","getImageProps","items","isPic","img","some","pic","indexOf","imageMap","f","url","href","image","elementList","listMap","Array","from","Set","reduce","res","filter","node","item","row","Object","keys","m","i","values","concat","trackList","imageNode","PAGE_SIZE","pageCount","Math","ceil","length","startNum","visible","slice","subscribed","feedUrl","imageProps","descNode","description","height","width","pt","pb","pl","mb","backgroundColor","title","maxWidth","__html","ml","index","track","borderBottom","borderColor","mr","owner","substr","mt","defaultProps"],"sources":["/home/miltonejones/projects/state-cast/src/components/PodDetail.js"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  styled,\r\n  Box,\r\n  Stack,\r\n  Button,\r\n  Typography,\r\n  Pagination,\r\n  ListItemSecondaryAction,\r\n  Divider,\r\n} from '@mui/material';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport Avatar from '@mui/material/Avatar';\r\n// import { BackButton } from '../../../..';\r\n\r\nconst Layout = styled(Box)(({ theme }) => ({\r\n  margin: theme.spacing(0),\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  flexDirection: 'column',\r\n}));\r\n\r\nconst PodDetail = ({\r\n  detail,\r\n  podcast,\r\n  source,\r\n  subscriptions,\r\n  page = 1,\r\n  send,\r\n}) => {\r\n  const recurse = (elements, out = [], level = 0) => {\r\n    !!elements &&\r\n      elements.map((element, e) => {\r\n        const cdata = element.elements?.find((e) => e.type === 'cdata');\r\n        const text = element.elements?.find((e) => e.type === 'text');\r\n        if (text) {\r\n          out.push({\r\n            [element.name]: text.text,\r\n            ...element.attributes,\r\n            level,\r\n          });\r\n        } else if (cdata) {\r\n          out.push({\r\n            [element.name]: cdata.cdata,\r\n            ...element.attributes,\r\n            level,\r\n          });\r\n        } else {\r\n          out.push({\r\n            ...element.attributes,\r\n            level,\r\n          });\r\n          recurse(element.elements, out, ++level);\r\n        }\r\n\r\n        return out;\r\n      });\r\n\r\n    return out;\r\n  };\r\n\r\n  const getImageProps = (items) => {\r\n    const isPic = (img) =>\r\n      ['jpg', 'jpeg', 'png'].some((pic) => !!img && img.indexOf(pic) > 0);\r\n\r\n    if (!items) return {};\r\n\r\n    const imageMap = items.find((f) => isPic(f.url) || isPic(f.href));\r\n    if (imageMap) {\r\n      return {\r\n        image: isPic(imageMap.url) ? imageMap.url : imageMap.href,\r\n        ...imageMap,\r\n      };\r\n    }\r\n\r\n    return {};\r\n  };\r\n\r\n  const elementList = recurse(detail.elements);\r\n  const listMap = Array.from(new Set(elementList.map((f) => f.level))).reduce(\r\n    (out, res) => {\r\n      const items = elementList.filter((f) => f.level === res);\r\n      const node = items.reduce((item, row) => {\r\n        Object.keys(row).map((m, i) => {\r\n          item[m] = Object.values(row)[i];\r\n          return item;\r\n        });\r\n        return item;\r\n      }, {});\r\n      return out.concat(node);\r\n    },\r\n    []\r\n  );\r\n\r\n  const trackList = listMap?.filter((f) => !!f['itunes:duration'] && !!f.url);\r\n  // const titleNode = listMap?.find((f) => !!f.generator);\r\n  const imageNode =\r\n    listMap?.find(\r\n      (f) =>\r\n        !!f.href && (f.href.indexOf('jpg') > 0 || f.href.indexOf('jpeg') > 0)\r\n    ) || {};\r\n\r\n  const PAGE_SIZE = 5;\r\n  const pageCount = Math.ceil(trackList.length / PAGE_SIZE);\r\n  const startNum = (page - 1) * PAGE_SIZE;\r\n  const visible = trackList?.slice(startNum, startNum + PAGE_SIZE);\r\n\r\n  const subscribed = subscriptions?.some((f) => f.feedUrl === podcast?.feedUrl);\r\n  const imageProps = getImageProps(listMap);\r\n  const descNode = listMap.find((f) => !!f.description);\r\n\r\n  return (\r\n    <Layout data-testid=\"test-for-PodDetail\">\r\n      {!!imageProps && (\r\n        <Stack\r\n          direction=\"row\"\r\n          spacing={2}\r\n          sx={{\r\n            height: 200,\r\n            width: '100vw',\r\n            pt: 2,\r\n            pb: 2,\r\n            pl: 4,\r\n            mb: 2,\r\n            backgroundColor: 'aliceblue',\r\n          }}\r\n        >\r\n          {!!imageProps?.image && (\r\n            <img width={200} src={imageProps.image} alt={imageProps.title} />\r\n          )}\r\n          <Box>\r\n            <Typography\r\n              variant=\"h6\"\r\n              onClick={() => {\r\n                send({\r\n                  type: 'SUBSCRIBE',\r\n                  podcast,\r\n                });\r\n              }}\r\n            >\r\n              <i\r\n                className={`fa-${subscribed ? 'solid' : 'regular'} fa-star`}\r\n              ></i>\r\n              {imageProps?.title || imageProps['itunes:name']}\r\n            </Typography>\r\n            <Typography variant=\"caption\">\r\n              {trackList.length} episodes\r\n            </Typography>\r\n\r\n            <Box sx={{ maxWidth: '60vw' }}>\r\n              <Typography\r\n                variant=\"body2\"\r\n                dangerouslySetInnerHTML={{\r\n                  __html: descNode?.description,\r\n                }}\r\n              ></Typography>\r\n            </Box>\r\n          </Box>\r\n        </Stack>\r\n      )}\r\n      {/* <BackButton send={send} />  */}\r\n      {/* [{source}] */}\r\n      {/* <pre>\r\n[{JSON.stringify(subscribed,0,3)}]\r\n</pre> */}\r\n      {/* [{JSON.stringify(subscriptions)}] */}\r\n      <Box sx={{ width: '50vw' }}>\r\n        {pageCount > 1 && (\r\n          <Box sx={{ ml: 10 }}>\r\n            <Pagination\r\n              count={pageCount}\r\n              page={page}\r\n              onChange={(e, index) => {\r\n                send({\r\n                  type: 'PAGE',\r\n                  page: index,\r\n                });\r\n              }}\r\n            />\r\n          </Box>\r\n        )}\r\n        <List sx={{ ml: 2, maxWidth: '45vw' }}>\r\n          {visible.map((track) => (\r\n            <ListItem\r\n              sx={{\r\n                borderBottom: 1,\r\n                borderColor: 'divider',\r\n              }}\r\n            >\r\n              <ListItemAvatar>\r\n                {(track?.href || imageNode?.href) && (\r\n                  <Avatar\r\n                    variant=\"rounded\"\r\n                    sx={{ width: 60, height: 60, mr: 1 }}\r\n                    src={track?.href || imageNode?.href}\r\n                  ></Avatar>\r\n                )}\r\n              </ListItemAvatar>\r\n\r\n              <ListItemText\r\n                primary={\r\n                  <div\r\n                    onClick={() => {\r\n                      send({\r\n                        type: 'PLAY',\r\n                        track: {\r\n                          ...track,\r\n                          owner: imageProps?.title,\r\n                          image: track?.href || imageNode?.href,\r\n                        },\r\n                      });\r\n                    }}\r\n                    dangerouslySetInnerHTML={{ __html: track.title }}\r\n                  />\r\n                }\r\n                secondary={\r\n                  <Stack>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      dangerouslySetInnerHTML={{\r\n                        __html: track['itunes:summary']?.substr(0, 200),\r\n                      }}\r\n                    ></Typography>\r\n\r\n                    <Stack\r\n                      direction=\"row\"\r\n                      spacing={1}\r\n                      sx={{ mt: 1, alignItems: 'center' }}\r\n                    >\r\n                      <Button\r\n                        onClick={() => {\r\n                          send({\r\n                            type: 'PLAY',\r\n                            track: {\r\n                              ...track,\r\n                              image: track?.href || imageNode?.href,\r\n                            },\r\n                          });\r\n                        }}\r\n                        endIcon={<i className=\"fa-solid fa-play fa-2xs\"></i>}\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                      >\r\n                        Play\r\n                      </Button>\r\n                      <Typography variant=\"caption\">\r\n                        {track['itunes:duration']}\r\n                      </Typography>\r\n                    </Stack>\r\n                  </Stack>\r\n                }\r\n              />\r\n              <ListItemSecondaryAction\r\n                onClick={() => {\r\n                  send({\r\n                    type: 'PLAY',\r\n                    track,\r\n                  });\r\n                }}\r\n              >\r\n                <i className=\"fa-solid fa-chevron-right\"></i>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        {/* [ <pre>{JSON.stringify(listMap, 0, 2)}</pre>] */}\r\n      </Box>\r\n\r\n      {/* <Stack\r\n        direction=\"row\"\r\n        spacing={2}\r\n        sx={{ maxWidth: '80vw', alignItems: 'flex-start' }}\r\n      >\r\n      </Stack> */}\r\n      {/* \r\n <pre>\r\n    {JSON.stringify(imageProps,0,2)}\r\n    </pre> */}\r\n      {/*\r\n<pre>\r\n    {JSON.stringify(imageNode,0,2)}\r\n    </pre>\r\n    <pre>\r\n    {JSON.stringify(detail.elements,0,2)}\r\n    </pre> */}\r\n    </Layout>\r\n  );\r\n};\r\nPodDetail.defaultProps = {};\r\nexport default PodDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}